{"version":3,"sources":["scripts/app-c9d0bb774a.js"],"names":["GetUrl","location","href","newRequest","_factory","i","_factories","length","factory","request","e","LoadGraphML","url","func","open","onreadystatechange","readyState","onLoadComplete","responseText","send","text","getCompleteCallback","swfFile","navigator","appName","indexOf","window","document","loadCompleteCallback","value","RunPlayer","hasRequestedVersion","DetectFlashVer","params","CreateParams","arguments","initMouseWheel","substr","str","write","args","ret","Object","flashVars","param","String","toLowerCase","flashVarString","substring","isHovering","evt","r","elem","srcElement","target","nodeName","getAttribute","onMouseWheel","event","handleMouseWheel","stopPropagation","preventDefault","cancelBubble","cancel","returnValue","wheelDelta","delta","eb","browser","opera","detail","platform","mac","externalMouseEvent","initialized","addEventListener","onmousewheel","GetSwfVer","flashVer","plugins","swVer2","flashDescription","description","descArray","split","tempArrayMajor","versionMajor","versionMinor","versionRevision","userAgent","isIE","isWin","isOpera","ControlVersion","version","axo","ActiveXObject","GetVariable","AllowScriptAccess","reqMajorVer","reqMinorVer","reqRevision","versionStr","tempArray","tempString","versionArray","parseFloat","InstallFlashUpdate","hasProductInstall","MMPlayerType","MMredirectURL","title","slice","MMdoctitle","fv","appVersion","XMLHttpRequest","win","test","match","safari","msie","mozilla","chrome"],"mappings":"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","file":"scripts/app-c9d0bb774a.js","sourcesContent":["//\n// yWorks GraphMLViewer 1.0\n//\n//\nvar isIE = (navigator.appVersion.indexOf(\"MSIE\") != -1);\nvar isWin = (navigator.appVersion.toLowerCase().indexOf(\"win\") != -1);\nvar isOpera = (navigator.userAgent.indexOf(\"Opera\") != -1);\n\n// Get the URL of the HTML document. Needed to convert relative URLs into absolute URLs.\nfunction GetUrl() {\n  return location.href;\n}\n\nvar _factories = [\n    function() { return new XMLHttpRequest();},\n    function() { return new ActiveXObject(\"Msxml2.XMLHTTP\"); },\n    function() { return new ActiveXObject(\"Microsoft.XMLHTTP\"); }];\n\nvar _factory = null;\n\n// Creates a HttpRequest from one of the factories\nfunction newRequest() {\n  if (_factory != null) return _factory;\n  for (var i=0; i<_factories.length; i++) {\n    try {\n      var factory = _factories[i];\n      var request = factory();\n      if (request != null) {\n        _factory = factory;\n        return request;\n      }\n    }catch(e) {\n      continue;\n    }\n  }\n  return null;\n}\n\n// loads a GraphML\nfunction LoadGraphML(url) {\n  var request = newRequest();\n  var func = null;\t//getCompleteCallback();\t// async loading doesn't work currently\n  if (request != null) {\n    if (func) {\n      request.open(\"GET\", url, true);\n      request.onreadystatechange = function() {\n        if (request.readyState == 4) {\n          onLoadComplete(request.responseText);\n        }\n      }\n      request.send(null);\n      return \"async\";\n    } else {\n      request.open(\"GET\", url, false);\n      request.send(null);\n      //      var response = request.responseXML;\n      var text = request.responseText;\n      if (text) return text;\n\n    }\n\n  }\n  return null;\n}\n\nfunction getCompleteCallback() {\n  var swfFile;\n  if (navigator.appName.indexOf(\"Microsoft\") != -1) {\n    swfFile = window[\"GraphMLViewer\"];\n  } else {\n    swfFile = document[\"GraphMLViewer\"];\n  }\n  return swfFile.loadCompleteCallback;\n}\n\nfunction onLoadComplete(value) {\n  var func = getCompleteCallback();\n  func(value);\n}\n\n\n// Gets the parameters and creates and starts the viewer.\n// Returns false if the Flash Player is too old or not installed.\nfunction RunPlayer() {\n\n  var hasRequestedVersion = DetectFlashVer(9, 0, 38);\n\n  var params = CreateParams(arguments);\n\n  if (!hasRequestedVersion) {\n    return false;\n  }\n\n  initMouseWheel();\n\n  var url = \"GraphMLViewer.swf\";\n  if (location.href.substr(0, 5) != \"file:\") {\n    url = \"http://www.yworks.com/products/graphmlviewer/1.1/GraphMLViewer.swf\";\n  }\n\n  var str = '<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" ' +\n            'id=\"viewer'+ params[\"id\"] + '\" width=\"' + params[\"width\"] + '\" height=\"' + params[\"height\"] + '\"' +\n            ' codebase=\"http://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab\">' +\n            ' <param name=\"movie\" value=\"' + url + '\" />' +\n            ' <param name=\"quality\" value=\"high\" />' +\n            ' <param name=\"bgcolor\" value=\"#ffffff\" />' +\n            ' <param name=\"allowScriptAccess\" value=\"always\" />' +\n            ' <param name=\"FlashVars\" value=\"' + params[\"flashvars\"] + '\" />' +\n            ' <embed src=\"' + url + '\" quality=\"high\" bgcolor=\"#ffffff\"' +\n            '  width=\"' + params[\"width\"] + '\" height=\"' + params[\"height\"] + '\" name=\"viewer'+ params[\"id\"] + '\" align=\"middle\"' +\n            '  play=\"true\"' +\n            '  loop=\"false\"' +\n            '  allowScriptAccess=\"always\"' +\n            '  type=\"application/x-shockwave-flash\"' +\n            '  pluginspage=\"http://www.adobe.com/go/getflashplayer\"' +\n            '  FlashVars=\"' + params[\"flashvars\"] + '\">' +\n            '</embed>' +\n            '</object>';\n\n  document.write(str);\n\n  return true;\n}\n\nfunction CreateParams(args) {\n  var ret = new Object();\n  var flashVars = new Object();\n  for (var i = 0; i < args.length; i += 2) {\n    var param = String(args[i]).toLowerCase();\n    switch (param) {\n      case \"width\":\n      case \"height\":\n      case \"flashvars\":\n      case \"id\":\n        ret[param] = args[i + 1];\n        break;\n      default:\n        flashVars[param] = args[i + 1];\n        break;\n    }\n  }\n  if (!ret[\"flashvars\"]) {\n    var flashVarString = \"\";\n    if (flashVars[\"graphurl\"] != null) {\n      flashVarString = flashVarString + \"&graphUrl=\" + flashVars[\"graphurl\"];\n    }\n    if (flashVars[\"overview\"] != null) {\n      flashVarString = flashVarString + \"&overview=\" + flashVars[\"overview\"];\n    }\n    if (flashVars[\"toolbar\"] != null) {\n      flashVarString = flashVarString + \"&toolbar=\" + flashVars[\"toolbar\"];\n    }\n    if (flashVars[\"tooltips\"] != null) {\n      flashVarString = flashVarString + \"&tooltips=\" + flashVars[\"tooltips\"];\n    }\n    if (flashVars[\"movable\"] != null) {\n      flashVarString = flashVarString + \"&movable=\" + flashVars[\"movable\"];\n    }\n    if (flashVars[\"links\"] != null) {\n      flashVarString = flashVarString + \"&links=\" + flashVars[\"links\"];\n    }\n    if (flashVars[\"linksinnewwindow\"] != null) {\n      flashVarString = flashVarString + \"&linksInNewWindow=\" + flashVars[\"linksinnewwindow\"];\n    }\n    if (flashVars[\"viewport\"] != null) {\n      flashVarString = flashVarString + \"&viewport=\" + flashVars[\"viewport\"];\n    }\n    if (flashVars[\"scrollbars\"] != null) {\n      flashVarString = flashVarString + \"&scrollbars=\" + flashVars[\"scrollbars\"];\n    }\n    if (flashVarString.length > 0) {\n      ret[\"flashvars\"] = flashVarString.substring(1, flashVarString.length);\n    }\n  }\n  if (!ret[\"width\"]) {\n    ret[\"width\"] = \"100%\";\n  }\n  if (!ret[\"height\"]) {\n    ret[\"height\"] = \"100%\";\n  }\n  if (!ret[\"id\"]) {\n    ret[\"id\"] = \"1\";\n  }\n  return ret;\n}\n\n\n////////////////// Mouse wheel stuff //////////////////////\n\n\n// create unique namespace\nif(typeof eb == \"undefined\" || !eb)\teb = {};\n\nvar userAgent = navigator.userAgent.toLowerCase();\neb.platform = {\n    win:/win/.test(userAgent),\n    mac:/mac/.test(userAgent)\n};\neb.browser = {\n    version: (userAgent.match(/.+(?:rv|it|ra|ie)[\\/: ]([\\d.]+)/) || [])[1],\n    safari: /webkit/.test(userAgent),\n    opera: /opera/.test(userAgent),\n    msie: /msie/.test(userAgent) && !/opera/.test(userAgent),\n    mozilla: /mozilla/.test(userAgent) && !/(compatible|webkit)/.test(userAgent),\n    chrome: /chrome/.test(userAgent)\n};\n\nfunction isHovering(evt) {\n\tvar r = false;\n    var elem = evt.srcElement ? evt.srcElement : evt.target;\n\tif( null != elem ) {\n\t\tvar nodeName = elem.nodeName.toLowerCase();\n\t    if (( nodeName == \"object\" &&\n\t          elem.getAttribute(\"classid\").toLowerCase() == \"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\") ||\n\t        (nodeName == \"embed\" &&\n\t          elem.getAttribute(\"type\") == \"application/x-shockwave-flash\")) {\n\t        r = true;\n\t    }\n    }\n    return r;\n}\n\nfunction onMouseWheel(evt) {\n    evt = evt? evt : window.event;\n    if (isHovering(evt)) { return handleMouseWheel(evt); }\n    return true;\n}\n\nfunction handleMouseWheel(evt) {\n    evt = evt ? evt : window.event;\n    if (evt.stopPropagation) {\n        evt.stopPropagation();\n    }\n    if (evt.preventDefault) {\n        evt.preventDefault();\n    }\n    evt.cancelBubble = true;\n    evt.cancel = true;\n    evt.returnValue = false;\n    var elem = evt.srcElement ? evt.srcElement : evt.target;\n    if (evt.wheelDelta)        delta = evt.wheelDelta / (eb.browser.opera ? 12 : 120);\n    else if (evt.detail)        delta = -evt.detail;\n    if (eb.platform.mac && elem.externalMouseEvent)  elem.externalMouseEvent(delta);\n    return false;\n}\nvar  initialized = false;\n\nfunction initMouseWheel() {\n  if (!initialized) {\n    if (window.addEventListener) {\n        window.addEventListener('DOMMouseScroll', onMouseWheel, false);\n    }\n    window.onmousewheel = document.onmousewheel = onMouseWheel;\n    initialized = true;\n    }\n}\n\n\n\n// JavaScript helper required to detect Flash Player PlugIn version information\nfunction GetSwfVer() {\n  // NS/Opera version >= 3 check for Flash plugin in plugin array\n  var flashVer = -1;\n\n  if (navigator.plugins != null && navigator.plugins.length > 0) {\n    if (navigator.plugins[\"Shockwave Flash 2.0\"] || navigator.plugins[\"Shockwave Flash\"]) {\n      var swVer2 = navigator.plugins[\"Shockwave Flash 2.0\"] ? \" 2.0\" : \"\";\n      var flashDescription = navigator.plugins[\"Shockwave Flash\" + swVer2].description;\n      var descArray = flashDescription.split(\" \");\n      var tempArrayMajor = descArray[2].split(\".\");\n      var versionMajor = tempArrayMajor[0];\n      var versionMinor = tempArrayMajor[1];\n      var versionRevision = descArray[3];\n      if (versionRevision == \"\") {\n        versionRevision = descArray[4];\n      }\n      if (versionRevision[0] == \"d\") {\n        versionRevision = versionRevision.substring(1);\n      } else if (versionRevision[0] == \"r\") {\n        versionRevision = versionRevision.substring(1);\n        if (versionRevision.indexOf(\"d\") > 0) {\n          versionRevision = versionRevision.substring(0, versionRevision.indexOf(\"d\"));\n        }\n      }\n      flashVer = versionMajor + \".\" + versionMinor + \".\" + versionRevision;\n    }\n  }\n  // MSN/WebTV 2.6 supports Flash 4\n  else if (navigator.userAgent.toLowerCase().indexOf(\"webtv/2.6\") != -1) flashVer = 4;\n  // WebTV 2.5 supports Flash 3\n  else if (navigator.userAgent.toLowerCase().indexOf(\"webtv/2.5\") != -1) flashVer = 3;\n  // older WebTV supports Flash 2\n  else if (navigator.userAgent.toLowerCase().indexOf(\"webtv\") != -1) flashVer = 2;\n  else if (isIE && isWin && !isOpera) {\n    flashVer = ControlVersion();\n  }\n  return flashVer;\n}\n\nfunction ControlVersion()\n{\n\tvar version;\n\tvar axo;\n\tvar e;\n\n\t// NOTE : new ActiveXObject(strFoo) throws an exception if strFoo isn't in the registry\n\n\ttry {\n\t\t// version will be set for 7.X or greater players\n\t\taxo = new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash.7\");\n\t\tversion = axo.GetVariable(\"$version\");\n\t} catch (e) {\n\t}\n\n\tif (!version)\n\t{\n\t\ttry {\n\t\t\t// version will be set for 6.X players only\n\t\t\taxo = new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash.6\");\n\n\t\t\t// installed player is some revision of 6.0\n\t\t\t// GetVariable(\"$version\") crashes for versions 6.0.22 through 6.0.29,\n\t\t\t// so we have to be careful.\n\n\t\t\t// default to the first public version\n\t\t\tversion = \"WIN 6,0,21,0\";\n\n\t\t\t// throws if AllowScripAccess does not exist (introduced in 6.0r47)\n\t\t\taxo.AllowScriptAccess = \"always\";\n\n\t\t\t// safe to call for 6.0r47 or greater\n\t\t\tversion = axo.GetVariable(\"$version\");\n\n\t\t} catch (e) {\n\t\t}\n\t}\n\n\tif (!version)\n\t{\n\t\ttry {\n\t\t\t// version will be set for 4.X or 5.X player\n\t\t\taxo = new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash.3\");\n\t\t\tversion = axo.GetVariable(\"$version\");\n\t\t} catch (e) {\n\t\t}\n\t}\n\n\tif (!version)\n\t{\n\t\ttry {\n\t\t\t// version will be set for 3.X player\n\t\t\taxo = new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash.3\");\n\t\t\tversion = \"WIN 3,0,18,0\";\n\t\t} catch (e) {\n\t\t}\n\t}\n\n\tif (!version)\n\t{\n\t\ttry {\n\t\t\t// version will be set for 2.X player\n\t\t\taxo = new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash\");\n\t\t\tversion = \"WIN 2,0,0,11\";\n\t\t} catch (e) {\n\t\t\tversion = -1;\n\t\t}\n\t}\n\n\treturn version;\n}\n\n// When called with reqMajorVer, reqMinorVer, reqRevision returns true if that version or greater is available\nfunction DetectFlashVer(reqMajorVer, reqMinorVer, reqRevision)\n{\n  var versionStr = GetSwfVer();\n  if (versionStr == -1) {\n    return false;\n  } else if (versionStr != 0) {\n    if (isIE && isWin && !isOpera) {\n      // Given \"WIN 2,0,0,11\"\n      var tempArray = versionStr.split(\" \");\n      // [\"WIN\", \"2,0,0,11\"]\n      var tempString = tempArray[1];\n      // \"2,0,0,11\"\n      var versionArray = tempString.split(\",\");\n      // ['2', '0', '0', '11']\n    } else {\n      var versionArray = versionStr.split(\".\");\n    }\n    var versionMajor = versionArray[0];\n    var versionMinor = versionArray[1];\n    var versionRevision = versionArray[2];\n\n    // is the major.revision >= requested major.revision AND the minor version >= requested minor\n    if (versionMajor > parseFloat(reqMajorVer)) {\n      return true;\n    } else if (versionMajor == parseFloat(reqMajorVer)) {\n      if (versionMinor > parseFloat(reqMinorVer))\n        return true;\n      else if (versionMinor == parseFloat(reqMinorVer)) {\n        if (versionRevision >= parseFloat(reqRevision))\n          return true;\n      }\n    }\n  }\n  return false;\n}\n\n// Installs the latest Flash player.\n// Needs Flash Player 6.0.65 or later.\n// Returns false if the Flash player is too old or not installed.\nfunction InstallFlashUpdate() {\n\n  var hasProductInstall = DetectFlashVer(6, 0, 65);\n  if (hasProductInstall) {\n    var params = CreateParams(arguments);\n    var MMPlayerType = isIE ? \"ActiveX\" : \"PlugIn\";\n    var MMredirectURL = window.location;\n    document.title = document.title.slice(0, 47) + \" - Flash Player Installation\";\n    var MMdoctitle = document.title;\n    var fv = \"MMredirectURL=\" + MMredirectURL + '&MMplayerType=' + MMPlayerType + '&MMdoctitle=' + MMdoctitle;\n    document.write('<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" ' +\n                   'id=\"GraphMLViewer\" width=\"' + params[\"width\"] + '\" height=\"' + params[\"height\"] + '\"' +\n                   ' codebase=\"http://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab\">' +\n                   ' <param name=\"movie\" value=\"http://www.yworks.com/products/graphmlviewer/1.0.1/playerProductInstall.swf\" />' +\n                   ' <param name=\"quality\" value=\"high\" />' +\n                   ' <param name=\"bgcolor\" value=\"#ffffff\" />' +\n                   ' <param name=\"allowScriptAccess\" value=\"sameDomain\" />' +\n                   ' <param name=\"FlashVars\" value=\"' + fv + '\" />' +\n                   ' <embed src=\"http://www.yworks.com/products/graphmlviewer/1.0.1/playerProductInstall.swf\" quality=\"high\" bgcolor=\"#ffffff\"' +\n                   '  width=\"' + params[\"width\"] + '\" height=\"' + params[\"height\"] + '\" name=\"yEdViewer.graphml\" align=\"middle\"' +\n                   '  play=\"true\"' +\n                   '  loop=\"false\"' +\n                   '  quality=\"high\"' +\n                   '  allowScriptAccess=\"sameDomain\"' +\n                   '  type=\"application/x-shockwave-flash\"' +\n                   '  pluginspage=\"http://www.adobe.com/go/getflashplayer\"' +\n                   '  FlashVars=\"' + fv + '\">' +\n                   '</embed>' +\n                   '</object>');\n    return true;\n  } else {\n    return false;\n  }\n}\n"],"sourceRoot":"/source/"}